<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
  </head>
  <body>
    <header>
      <nav>
        <div class="logo-container">
          <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            <span>SkillCraft</span>
          </div>
          <div class="hamburger" id="hamburger">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
        </div>
        <div class="header-right" id="headerRight">
          <a href="{{ url_for('index') }}" class="header-link">Home</a>
          <a href="{{ url_for('login') }}" class="btn btn-primary">
            <i class="fas fa-sign-in-alt"></i> Log In
          </a>
        </div>
      </nav>
    </header>

    <main style="display: flex; align-items: center">
      <div class="auth-form-container">
        <div class="form-header">
          <h2><i class="fas fa-user-plus"></i> Create an Account</h2>
        </div>
        <div class="form-body">
          <form id="registerForm" method="POST">
            <div class="form-group">
              <label for="name">Full Name:</label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-control"
                required
              />
              <span id="nameError" class="error-message"></span>
            </div>
            <div class="form-group">
              <label for="email">Email:</label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-control"
                required
              />
              <span id="emailError" class="error-message"></span>
            </div>
            <div class="form-group">
              <label for="password">Password:</label>
              <input
                type="password"
                id="password"
                name="password"
                class="form-control"
                required
              />
              <span id="passwordError" class="error-message"></span>
            </div>
            <div class="form-group">
              <label for="confirm-password">Confirm Password:</label>
              <input
                type="password"
                id="confirm-password"
                name="confirm-password"
                class="form-control"
                required
              />
              <span id="confirmPasswordError" class="error-message"></span>
            </div>
            <div class="form-group">
              <label for="phone_number">Phone Number:</label>
              <input
                type="tel"
                id="phone_number"
                name="phone_number"
                class="form-control"
                pattern="\+994[0-9]{9}"
                title="e.g. +994123456789"
                required
              />
            </div>
            <div class="form-group">
              <label for="birthday">Birthday:</label>
              <input
                type="date"
                id="birthday"
                name="birthday"
                class="form-control"
                required
              />
            </div>
            <div class="form-group" id="smsCodeSection" style="display: none">
              <label for="sms_code">Enter SMS Code:</label>
              <input
                type="text"
                id="sms_code"
                name="sms_code"
                class="form-control"
              />
              <span id="smsCodeError" class="error-message"></span>
            </div>
            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="terms" name="terms" required />
                <label for="terms"
                  >I agree to the
                  <a
                    href="#"
                    style="color: rgb(36, 36, 187); text-decoration: underline"
                    >Terms and Conditions</a
                  ></label
                >
              </div>
              <span id="termsError" class="error-message"></span>
            </div>
            <button
              type="submit"
              class="btn btn-primary"
              style="display: flex; margin: auto"
            >
              Register
            </button>
          </form>
          {% if message %}
          <p
            class="error-message"
            style="text-align: center; margin-top: 1rem; color: var(--danger)"
          >
            {{ message }}
          </p>
          {% endif %}
        </div>
      </div>
    </main>

    <footer>
      <div class="footer-content">
        <p>&copy; 2025 SkillCraft. All rights reserved.</p>
      </div>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
      const hamburger = document.getElementById("hamburger");
      const headerRight = document.getElementById("headerRight");

      hamburger.addEventListener("click", function () {
        headerRight.classList.toggle("active");
        hamburger.classList.toggle("active");
      });

      document.addEventListener("click", function (event) {
        const isClickInsideNav =
          hamburger.contains(event.target) ||
          headerRight.contains(event.target);

        if (!isClickInsideNav && headerRight.classList.contains("active")) {
          headerRight.classList.remove("active");
          hamburger.classList.remove("active");
        }
      });
    </script>
  </body>
</html>
